{% extends 'myan/base.html' %}

{% block title %}Home - Music Streaming{% endblock %}

{% block content %}
<section class="featured">
    <h2><i class="fas fa-fire"></i> Playlists</h2>
    <div class="playlist-grid">
        {% if user.is_authenticated %}
            {% if playlists %}
                {% for playlist in playlists %}
                    <div class="playlist-card">
                        <img src="{{ playlist.cover_image.url|default:'/static/images/default-playlist.png' }}" alt="{{ playlist.name }}">
                        <h3>{{ playlist.name }}</h3>
                        <p>{{ playlist.songs.count }} songs</p>
                    </div>
                {% endfor %}
            {% else %}
                <p>No playlists available.</p>
            {% endif %}
        {% else %}
            <p>Sign in to view your playlists</p>
        {% endif %}
    </div>
</section>

<section class="popular-artist">
    <h2>Artist</h2>
    <ul class="artist-list">
        {% for artist in artists %}
            <li class="artist-item">
                <div class="artist-info">
                    <!-- Display artist details here if needed -->
                    <h3>{{ artist.name }}</h3>
                </div>
            </li>
        {% empty %}
            <li>No artists available</li>
        {% endfor %}
    </ul>
</section>

<section class="popular-songs">
    <h2><i class="fas fa-music"></i> Songs</h2>
    <ul class="song-list">
        {% for song in songs %}
            <li class="song-item">
                <img src="{{ song.album.cover_image.url|default:'/static/images/default-song.png' }}" alt="{{ song.name }}" width="50">
                <div class="song-info">
                    <h3>{{ song.name }}</h3>
                    <p>{{ song.artist }}</p>
                </div>
                <div class="song-controls">
                    <button class="play-btn"><i class="fas fa-play"></i></button>
                    <button class="add-to-playlist-btn"><i class="fas fa-plus"></i></button>
                </div>
            </li>
        {% empty %}
            <li>No songs available.</li>
        {% endfor %}
    </ul>
</section>
{% endblock %}
